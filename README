Yuckbox is a music player.

Yuckbox
=======

Har referens till song.
Har referens till songs ({}) ??????
Har referens till Playlist.
Vidarebefordrar events från SM.
Ber playlist om nästa låt när nuvarande är slut.

'yuckbox.play'.on(
    if (self.getSongInfo) {
        self.nowPlaying.getInfo(function(song) {
            if (self.nowPlaying = song) {
                trigger('yuckbox.songinfo', song)
            }
        })
    }

Song
====

Skapar sm2-sound vid play
Destruerar sm2-sound vid stop (inkl sm2 stoppevent)
Speglar sm2 interface
Har sångdata

    play()
    pause()
    stop()   (+ unload)
    seek()
    ... (se sm2)

    getInfo(callback) (Async)
    
    getInfo -> result ->


Playlist (singleton)
====================

Alltid playlist, även om det bara är en sång
getPrev/Next returnerar false om det är slut på listan
getPrevById/Next returnerar false om id inte finns i listan
    
    getPrev(index)
       -> id/false
    getPrevById(id)
       -> id/false
    getNext(index)
       -> id/false
    getNextById(id)
        -> id/false

    setRepeat(bool)
    setShuffle(bool)

$.fn.yuckbox-controls
=====================

YuckControlView

Borde men behöver inte vara fast på sidan

GUI för stop/play/prev/next och seek
Tar emot events för ovanstående
Ber om sånginfo (yuckbox.getinfo) on play:
    yuckbox.getSongInfo = true;
    prenumerera på event


$.fn.yuckbox-links
==================

PlaylistView
PlaylistItemView

Söker upp länkar vid newpageload och kallar yuckbox.playlist.replace()
delegerar events till ui


$.fn.yuckbox-history
====================

Hijackar länkar på sidan när yuckbox.isPlaying
Ajax load content
    json api plugin?
ajax
    $_SERVER['HTTP_X_REQUESTED_WITH']
sänder event vid ny sida (kolla ev upp nativ event)


SoundManager options
====================

Use wp_localize_script for options?
ybx.options
ybx.sm.url = ybx.options.smUrl


http://jsfiddle.net/4Wrjh/
